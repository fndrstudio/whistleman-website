---
phase: 03-visual-bug-fixes
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - assets/css/main.css
  - assets/scss/_variables.scss
  - assets/scss/_sections.scss
  - assets/scss/sections/_hero.scss
  - assets/scss/sections/_cards.scss
  - assets/scss/sections/_cards-2.scss
  - assets/scss/sections/_call-to-action.scss
autonomous: false

must_haves:
  truths:
    - "No horizontal scrollbar appears on any page at any viewport width"
    - "Images in fixed-size containers (cards, testimonials) don't stretch or crop awkwardly"
    - "Section left margins are visually consistent across all pages"
  artifacts:
    - path: "assets/css/main.css"
      provides: "100% width instead of 100vw in responsive rules"
      contains: "width: 100%"
    - path: "assets/scss/_variables.scss"
      provides: "CSS variable for section margin"
      contains: "--section-margin-left"
    - path: "assets/scss/sections/_hero.scss"
      provides: "object-position for hero images"
      contains: "object-position: center"
    - path: "assets/scss/sections/_cards.scss"
      provides: "object-position for card images"
      contains: "object-position: center"
  key_links:
    - from: "assets/scss/_variables.scss"
      to: "assets/scss/_sections.scss"
      via: "CSS variable reference"
      pattern: "var\\(--section-margin-left\\)"
    - from: "assets/scss/*.scss"
      to: "assets/css/main.css"
      via: "SCSS compilation (Easy Compile extension)"
---

<objective>
Fix visual rendering issues: horizontal overflow, awkward image cropping, and inconsistent margins.

Purpose: Eliminate visual bugs that make the site look unprofessional and cause user frustration (especially the horizontal scrollbar).
Output: Clean CSS with no overflow, properly positioned images, and consistent spacing.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/CONVENTIONS.md

# Prior phase context
@.planning/phases/02-image-optimization/02-01-SUMMARY.md

# Source files to modify
@assets/css/main.css
@assets/scss/_variables.scss
@assets/scss/_sections.scss
@assets/scss/sections/_hero.scss
@assets/scss/sections/_cards.scss
@assets/scss/sections/_cards-2.scss
@assets/scss/sections/_call-to-action.scss
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix 100vw overflow in compiled CSS</name>
  <files>assets/css/main.css</files>
  <action>
    Replace all `width: 100vw` occurrences with `width: 100%` in main.css.

    The 100vw unit includes scrollbar width, causing horizontal overflow. Using 100% respects the parent container width.

    Locations to fix (line numbers may vary slightly):
    - Line ~743: .footer-left { width: 100vw; }
    - Line ~801: .footer-right { width: 100vw; }
    - Line ~822: .cta-footer { width: 100vw; }
    - Line ~1410: .cards { width: 100vw !important; }
    - Line ~1444: Similar responsive rule
    - Line ~1562, 1584, 2182, 2499, 2539: Additional responsive rules

    Use find/replace: `width: 100vw` → `width: 100%`

    NOTE: These styles are in main.css but NOT in SCSS source files (CSS drift). Edit main.css directly.
    Do NOT modify the 50vw values in SCSS - those are correct (footer left/right split).
  </action>
  <verify>grep -c "100vw" assets/css/main.css returns 0</verify>
  <done>No 100vw values remain in main.css - all replaced with 100%</done>
</task>

<task type="auto">
  <name>Task 2: Add object-position to fixed-size images</name>
  <files>assets/scss/sections/_hero.scss, assets/scss/sections/_cards.scss, assets/scss/sections/_cards-2.scss, assets/scss/sections/_call-to-action.scss</files>
  <action>
    Add `object-position: center;` after every `object-fit: cover;` in these files.

    This ensures images in fixed-size containers are centered rather than defaulting to top-left, which can crop faces or focal points awkwardly.

    Files and locations:
    1. _hero.scss line ~44: After `object-fit: cover;` add `object-position: center;`
    2. _cards.scss line ~104: After `object-fit: cover;` add `object-position: center;`
    3. _cards-2.scss line ~63: After `object-fit: cover;` add `object-position: center;`
    4. _call-to-action.scss line ~19: After `object-fit: cover;` add `object-position: center;`

    Pattern:
    ```scss
    object-fit: cover;
    object-position: center;
    ```
  </action>
  <verify>grep -r "object-position: center" assets/scss/sections/ returns 4 matches</verify>
  <done>All 4 SCSS files have object-position: center after object-fit: cover</done>
</task>

<task type="auto">
  <name>Task 3: Create CSS variable for consistent section margins</name>
  <files>assets/scss/_variables.scss, assets/scss/_sections.scss</files>
  <action>
    1. In _variables.scss, add a new CSS variable at the end of the :root block (around line 22):
       ```scss
       --section-margin-left: 1%;
       ```

    2. In _sections.scss, replace the hardcoded `margin-left: 1%` values with the variable:
       - Line ~11: Change `margin-left: 1%;` to `margin-left: var(--section-margin-left);`
       - Line ~19: Change `margin-left: 1%;` to `margin-left: var(--section-margin-left);`

    NOTE: This creates a single source of truth for section left margin. Future phases can update all sections by changing one variable.

    Do NOT change padding-left values (50px, 90px) in other files - those are internal component padding, not section margin.
  </action>
  <verify>grep "var(--section-margin-left)" assets/scss/_sections.scss returns 2 matches</verify>
  <done>CSS variable created in _variables.scss and used in _sections.scss</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Fixed horizontal overflow (100vw→100%), added object-position to images, created margin variable</what-built>
  <how-to-verify>
    1. Open VS Code with Easy Compile extension active
    2. Save assets/scss/main.scss to trigger SCSS compilation
    3. Run local server: `python3 -m http.server 8000` or similar
    4. Check index.html:
       - Resize window from wide to narrow - NO horizontal scrollbar should appear
       - Scroll down - sections should have consistent left spacing
    5. Check portfolio.html and a case study page:
       - Card images should be centered (no awkward cropping)
    6. Check footer on mobile width (375px):
       - Footer should fill width without overflow
  </how-to-verify>
  <resume-signal>Type "approved" if no horizontal scrollbar and images look properly centered, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `grep -c "100vw" assets/css/main.css` returns 0
- [ ] `grep -c "object-position: center" assets/scss/sections/*.scss` returns 4
- [ ] `grep -c "section-margin-left" assets/scss/_variables.scss` returns 1
- [ ] `grep -c "var(--section-margin-left)" assets/scss/_sections.scss` returns 2
- [ ] No horizontal scrollbar at any viewport width (human verified)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Human verified no horizontal overflow
- Images display with centered cropping
- Sections have consistent left margin
</success_criteria>

<output>
After completion, create `.planning/phases/03-visual-bug-fixes/03-01-SUMMARY.md`
</output>
